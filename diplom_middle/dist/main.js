(()=>{"use strict";const e=(t,s,i)=>{for(i=requestAnimationFrame(e);s<1;)s+=.05,t.style.opacity=s;cancelAnimationFrame(i)},t=e,s=(e,t)=>{!e.className.match(/close[-btn_icon]/)&&e.closest(".form-wrapper")||(t.style.display="none")};try{(()=>{const e=document.querySelector(".clubs-list"),t=e.querySelector("ul");e.addEventListener("click",(()=>{"block"===t.style.display?t.style.display="":t.style.display="block"}))})(),(()=>{const e=document.querySelector(".top-menu"),t=document.querySelector("#totop"),s=document.querySelector(".head-slider");let i;t.style.display="none",window.addEventListener("scroll",(()=>{i=window.pageYOffset,i>s.offsetTop?(e.style.position="fixed")&&(t.style.display="inline-block"):(e.style.position="")&&(t.style.display="none")}))})(),document.querySelector(".head").addEventListener("click",(e=>{let t=e.target;var i;t.dataset.popup&&(i=t.dataset.popup.slice(1),[...document.querySelectorAll(".popup")].forEach((e=>{e.id===i&&(e.style.display="block"),e.addEventListener("click",(t=>{s(t.target,e)}))})))})),(()=>{const e=document.querySelector(".popup-menu");document.querySelector(".menu-button img").addEventListener("click",(()=>{e.style.display="flex",t(e,0,void 0)})),e.addEventListener("click",(t=>{let s=t.target;(s.closest(".close-menu-btn")||s.closest("ul li a"))&&(e.style.display="none")}))})(),(()=>{[...document.querySelectorAll("form")].forEach((t=>{t.addEventListener("submit",(s=>{s.preventDefault();const i=document.createElement("div"),o=document.getElementById("thanks"),n=o.querySelector("h4"),l=o.querySelector("p"),r=document.createElement("p");let d=!1;const a=()=>{document.querySelectorAll(".popup").forEach((e=>{e.style.display=e.style.display="none",o.style.display="block"})),t.reset(),i.remove()},c=()=>{t.querySelectorAll("input").forEach((e=>{"checkbox"!==e.type&&"radio"!==e.type||(e.setAttribute("required",!0),e.addEventListener("input",(()=>{e.checked&&r.remove()})),e.checked?(d=!0,r.remove(),(()=>{i.classList.add("sk-three-bounce");const e=document.createElement("div");e.classList.add("sk-bounce-dot"),i.appendChild(e);let s=e.cloneNode(!0),o=e.cloneNode(!0);i.appendChild(s),i.appendChild(o),t.appendChild(i)})()):(document.querySelector(".message")||((e,t)=>{console.log("type: ",t),r.classList.add("message"),r.style.fontSize="16px",r.style.color="red",r.innerHTML="checkbox"===t?"Нужно поставить галочку!":"Нужно выбрать зал!",e.appendChild(r)})(t,e.type),d=!1))}))};c();const p=new FormData(t),h={};p.forEach(((e,t)=>{h[t]=e})),d&&e(h).then((e=>{if(200!==e.status)throw new Error("Заявка не отправлена");setTimeout((()=>{c(),a()}),1500)})).catch((e=>{console.error(e),setTimeout((()=>{i.remove(),o.style.display="block",n.textContent=":(",l.textContent=" Что-то пошло не так...",a()}),1500)}))}))}));const e=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});document.addEventListener("input",(()=>{[...document.querySelectorAll('input[name="name"]')].forEach((e=>{e.value=e.value.replace(/[^а-яё ]/gi,"")}))}))})(),(()=>{try{const e=document.querySelector(".fixed-gift"),t=document.querySelector("#gift");e.addEventListener("click",(()=>{t.style.display="block",e.style.display="none"})),t.addEventListener("click",(e=>{s(e.target,t)}))}catch(e){}})(),(()=>{try{const e=document.querySelector(".main-slider").querySelectorAll(".slide");let t=0;const s=(e,t)=>{e[t].style.display="none"},i=(e,t)=>{e[t].style.display="flex"};setInterval((()=>{s(e,t),t++,t>=e.length&&(t=0),i(e,t)}),4e3)}catch(e){}})(),(()=>{const e=document.querySelector(".gallery-slider");let t,s=e.querySelectorAll(".slide");console.log("slide: ",s);let i=0;s.forEach((e=>{e.style.position="absolute",e.classList.contains("active")||(e.style.opacity="0")})),(()=>{let t=document.createElement("ul");t.classList.add("slider-dots"),e.append(t);for(let e=0;e<s.length;e++){let e=document.createElement("li");e.classList.add("dot"),t.append(e)}t.querySelectorAll("li")[0].classList.add("dot-active")})();const o=(e,t,s)=>{e.length==i&&(t=0,i=0),e[t].classList.add(s)},n=()=>{s[i].classList.remove("active"),i++,i>=s.length&&(i=0),o(s,i,"active")};e.addEventListener("click",(e=>{e.preventDefault();let t=e.target;t.matches("#arrow-right")?i++:t.matches("#arrow-left")&&i--,i>=s.length||i<0&&(i=s.length-1),o(s,i,"show")})),((e=1e4)=>{t=setInterval(n,e)})()})(),new class{constructor({wrap:e,next:t,prev:s,position:i=0,slidesToShow:o=4,infinity:n=!1,responsive:l=[]}){e||console.warn('slider-carousel: Необходимо передать селектор, "wrap"!'),this.wrap=document.querySelector(e),this.main=this.wrap.parentNode,this.slides=document.querySelector(e).children,this.next=document.querySelector(t),this.prev=document.querySelector(s),this.slidesToShow=o,this.options={position:i,widthSlide:Math.floor(100/this.slidesToShow),infinity:n,maxPosition:this.slides.length-this.slidesToShow},this.responsive=l}init(){this.addClass(),this.addStyle(),this.prev&&this.next||this.addArrow(),this.controlSlider(),this.responsive&&this.responsiveInit()}addClass(){this.main.classList.add("sliderCarousel"),this.wrap.classList.add("sliderCarousel__wrap");for(let e of this.slides)e.classList.add("sliderCarousel__slide")}addStyle(){let e=document.getElementById("sliderCarousel-style");e||(e=document.createElement("style"),e.id="sliderCarousel-style"),e.textContent=`\n            .sliderCarousel{\n                overflow:hidden !important;\n                position:relative;\n            }\n            .sliderCarousel__wrap{\n                display:flex !important;\n                transition: transform .3s !important;\n                will-change: tranform !important;\n                padding: 0 c!important;\n                margin: 0 29px !important;\n            }\n            .sliderCarousel__slide{\n                width: ${this.options.widthSlide}% !important;\n                flex: 0 0 ${this.options.widthSlide}% !important;\n                margin:0 auto  !important;\n                box-sizing:border-box !important;\n            }\n            .sliderCarousel_prev,\n            .sliderCarousel_next{\n                position: absolute;\n                top: 28%;\n                margin-top: -18px;\n                z-index: 100;\n                cursor: pointer;\n                display: block;\n                width: 36px;\n                height: 37px;\n                border-radius: 50%;\n                text-align: center;\n                border:none;\n            }\n            .sliderCarousel_next{\n                right: 0;\n                background: #f4c71b no-repeat center;\n            }\n            .sliderCarousel_prev{\n                left: 0;\n                background: #f4c71b  no-repeat center;\n            }\n            .sliderCarousel_prev:hover,\n            .sliderCarousel_next:hover,\n            .sliderCarousel_prev:focus,\n            .sliderCarousel_next:focus{\n                outline:none;\n            }\n        `,document.head.append(e)}controlSlider(){this.prev.addEventListener("click",this.prevSlider.bind(this)),this.next.addEventListener("click",this.nextSlider.bind(this))}prevSlider(){(this.options.infinity||this.options.position>0)&&(--this.options.position,this.options.position<0&&(this.options.position=this.options.maxPosition),this.wrap.style.transform=`translateX(-${this.options.position*this.options.widthSlide}%)`)}nextSlider(){(this.options.infinity||this.options.position<this.options.maxPosition)&&(++this.options.position,this.options.position>this.options.maxPosition&&(this.options.position=0),this.wrap.style.transform=`translateX(-${this.options.position*this.options.widthSlide}%)`)}addArrow(){this.prev=document.createElement("button"),this.prev.textContent="<",this.next=document.createElement("button"),this.next.textContent=">",this.prev.className="sliderCarousel_prev",this.next.className="sliderCarousel_next",this.wrap.parentNode.prepend(this.prev),this.wrap.parentNode.prepend(this.next)}responsiveInit(){const e=this.slidesToShow,t=this.responsive.map((e=>e.breakpoint)),s=Math.max(...t),i=()=>{const i=document.documentElement.clientWidth;if(i<s)for(let e=0;e<t.length;e++)i<t[e]&&(this.slidesToShow=this.responsive[e].slidesToShow,this.options.widthSlide=Math.floor(100/this.slidesToShow),this.addStyle());else this.slidesToShow=e,this.options.widthSlide=Math.floor(100/this.slidesToShow),this.addStyle()};i(),window.addEventListener("resize",i)}}({wrap:".services-slider",slidesToShow:4,infinity:!0,responsive:[{breakpoint:1024,slidesToShow:3},{breakpoint:768,slidesToShow:2},{breakpoint:576,slidesToShow:1}]}).init()}catch(e){}})();