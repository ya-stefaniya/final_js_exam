(()=>{"use strict";const e=(t,n,i)=>{for(i=requestAnimationFrame(e);n<1;)n+=.05,t.style.opacity=n;cancelAnimationFrame(i)},t=e,n=(e,t)=>{!e.className.match(/close[-btn_icon]/)&&e.closest(".form-wrapper")||(t.style.display="none")};try{(()=>{const e=document.querySelector(".clubs-list"),t=e.querySelector("ul");e.addEventListener("click",(()=>{"block"===t.style.display?t.style.display="":t.style.display="block"}))})(),(()=>{const e=document.querySelector(".top-menu"),t=document.querySelector("#totop"),n=document.querySelector(".head-slider");let i;t.style.display="none",window.addEventListener("scroll",(()=>{i=window.pageYOffset,i>n.offsetTop?(e.style.position="fixed")&&(t.style.display="inline-block"):(e.style.position="")&&(t.style.display="none")}))})(),document.querySelector(".head").addEventListener("click",(e=>{let t=e.target;var i;t.dataset.popup&&(i=t.dataset.popup.slice(1),[...document.querySelectorAll(".popup")].forEach((e=>{e.id===i&&(e.style.display="block"),e.addEventListener("click",(t=>{n(t.target,e)}))})))})),(()=>{const e=document.querySelector(".popup-menu");document.querySelector(".menu-button img").addEventListener("click",(()=>{e.style.display="flex",t(e,0,void 0)})),e.addEventListener("click",(t=>{let n=t.target;(n.closest(".close-menu-btn")||n.closest("ul li a"))&&(e.style.display="none")}))})(),(()=>{[...document.querySelectorAll("form")].forEach((t=>{t.addEventListener("submit",(n=>{n.preventDefault();const i=document.createElement("div"),o=document.getElementById("thanks"),s=o.querySelector("h4"),l=o.querySelector("p"),r=document.createElement("p");let d=!1;const a=()=>{document.querySelectorAll(".popup").forEach((e=>{e.style.display=e.style.display="none",o.style.display="block"})),t.reset(),i.remove()},c=()=>{t.querySelectorAll("input").forEach((e=>{"checkbox"!==e.type&&"radio"!==e.type||(e.setAttribute("required",!0),e.addEventListener("input",(()=>{e.checked&&r.remove()})),e.checked?(d=!0,r.remove(),(()=>{i.classList.add("sk-three-bounce");const e=document.createElement("div");e.classList.add("sk-bounce-dot"),i.appendChild(e);let n=e.cloneNode(!0),o=e.cloneNode(!0);i.appendChild(n),i.appendChild(o),t.appendChild(i)})()):(((e,t)=>{r.classList.add("message"),r.style.fontSize="16px",r.style.color="red",r.innerHTML="checkbox"===t?"Нужно поставить галочку!":"Нужно выбрать зал!",e.appendChild(r),e.childNodes.length>14&&e.removeChild(r)})(t,e.type),d=!1))}))};c();const p=new FormData(t),h={};p.forEach(((e,t)=>{h[t]=e})),d&&e(h).then((e=>{if(200!==e.status)throw new Error("Заявка не отправлена");setTimeout((()=>{c(),a()}),1500)})).catch((e=>{console.error(e),setTimeout((()=>{i.remove(),o.style.display="block",s.textContent=":(",l.textContent=" Что-то пошло не так...",a()}),1500)}))}))}));const e=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});document.addEventListener("input",(()=>{[...document.querySelectorAll('input[name="name"]')].forEach((e=>{e.value=e.value.replace(/[^а-яё ]/gi,"")}))}))})(),(()=>{try{const e=document.querySelector(".fixed-gift"),t=document.querySelector("#gift");e.addEventListener("click",(()=>{t.style.display="block",e.style.display="none"})),t.addEventListener("click",(e=>{n(e.target,t)}))}catch(e){}})(),(()=>{try{const e=document.querySelector(".main-slider").querySelectorAll(".slide");let t=0;const n=(e,t)=>{e[t].style.display="none"},i=(e,t)=>{e[t].style.display="flex"};setInterval((()=>{n(e,t),t++,t>=e.length&&(t=0),i(e,t)}),4e3)}catch(e){}})(),new class{constructor({wrap:e,next:t,prev:n,container:i,infinity:o=!1,position:s=0,sliderToShow:l=4}){this.wrap=document.querySelector(e),this.main=this.wrap.parentNode,this.next=document.querySelector(t),this.prev=document.querySelector(n),this.container=document.querySelector(i),this.sliderToShow=l,this.slides=document.querySelector(e).children,this.options={position:s,infinity:o,widthSlide:Math.floor(100/this.sliderToShow)}}init(){this.addGloClass(),this.addStyle(),this.prev&&this.next||this.addArrow(),this.controlSlider()}addGloClass(){this.main.classList.add("glo-slider"),this.wrap.classList.add("glo-slider__wrap");for(let e of this.slides)e.classList.add("glo-slider__item")}addStyle(){const e=document.createElement("style");e.id="sliderCarousel-style",e.textContent=`\n            .glo-slider{\n                overflow: hidden !important;\n            }\n            .glo-slider__wrap{\n                display: flex !important;\n                transition: transform 0.5s !important;\n                will-change: transform !important;\n            }\n            .glo-slider__item{\n                flex: 0 0 ${this.options.widthSlide+.5}% !important;\n                margin: auto 0 !important;\n            }\n        `,document.head.appendChild(e)}controlSlider(){this.prev.addEventListener("click",this.prevSlider.bind(this)),this.next.addEventListener("click",this.nextSlider.bind(this))}prevSlider(){(this.options.infinity||this.options.position>0)&&(--this.options.position,this.options.position<0&&(this.options.position=this.slides.length-this.sliderToShow),this.wrap.style.transform=`translateX(-${this.options.position*this.options.widthSlide}%)`)}nextSlider(){(this.options.infinity||this.options.position<this.slides.length-this.sliderToShow)&&(++this.options.position,this.options.position>this.slides.length-this.sliderToShow&&(this.options.position=0),this.wrap.style.transform=`translateX(-${this.options.position*this.options.widthSlide}%)`)}addArrow(){this.container=document.createElement("div"),this.prev=document.createElement("button"),this.next=document.createElement("button"),this.prev.className="glo-slider_prev",this.next.className="glo-slider_next",this.container.className="button-container",this.main.appendChild(this.container),this.container.appendChild(this.prev),this.container.appendChild(this.next);const e=document.createElement("style");e.textContent="\n        .glo-slider_prev,\n        .glo-slider_next{\n            border: 15px solid transparent;\n            background: transparent;\n            margin: 0 10px;\n        }\n        .glo-slider_next{\n            border-left-color: #fad249;\n\n        }\n        .glo-slider_prev{\n            border-right-color: #fad249;\n        }\n        .button-container{\n            width: 8rem;\n            margin: 1rem auto;\n            display: flex;\n        }\n        .glo-slider_prev:hover,\n        .glo-slider_prev:focus,\n        .glo-slider_next:hover,\n        .glo-slider_next:focus{\n            background: transparent;\n            outline: transparent;\n        }\n            \n        ",document.head.appendChild(e)}}({wrap:".services-slider",slidesToShow:5,infinity:!0}).init()}catch(e){}})();