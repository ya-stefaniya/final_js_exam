(()=>{"use strict";const e=(t,l,o)=>{for(o=requestAnimationFrame(e);l<1;)l+=.05,t.style.opacity=l;cancelAnimationFrame(o)},t=e,l=(e,t)=>{!e.className.match(/close[-btn_icon]/)&&e.closest(".form-wrapper")||(t.style.display="none")};(()=>{const e=document.querySelector(".clubs-list"),t=e.querySelector("ul");e.addEventListener("click",(()=>{"block"===t.style.display?t.style.display="":t.style.display="block"}))})(),(()=>{const e=document.querySelector(".top-menu"),t=document.querySelector("#totop"),l=document.querySelector(".head-slider");let o;t.style.display="none",window.addEventListener("scroll",(()=>{o=window.pageYOffset,o>l.offsetTop?(e.style.position="fixed")&&(t.style.display="inline-block"):(e.style.position="")&&(t.style.display="none")}))})(),document.querySelector(".head").addEventListener("click",(e=>{let t=e.target;var o;t.dataset.popup&&(o=t.dataset.popup.slice(1),[...document.querySelectorAll(".popup")].forEach((e=>{e.id===o&&(e.style.display="block"),e.addEventListener("click",(t=>{l(t.target,e)}))})))})),(()=>{const e=document.querySelector(".popup-menu");document.querySelector(".menu-button img").addEventListener("click",(()=>{e.style.display="flex",t(e,0,void 0)})),e.addEventListener("click",(t=>{let l=t.target;(l.closest(".close-menu-btn")||l.closest("ul li a"))&&(e.style.display="none")}))})(),(()=>{[...document.querySelectorAll("form")].forEach((t=>{t.addEventListener("submit",(l=>{l.preventDefault();const o=t.querySelectorAll("input"),n=document.createElement("div");n.classList.add("sk-three-bounce");const c=document.createElement("div");c.classList.add("sk-bounce-dot"),n.appendChild(c);let s=c.cloneNode(!0),r=c.cloneNode(!0);n.appendChild(s),n.appendChild(r);const d=document.getElementById("thanks"),a=d.querySelector("h4"),i=d.querySelector("p"),u=()=>{document.querySelectorAll(".popup").forEach((e=>{e.style.display=e.style.display="none",d.style.display="block"})),o.forEach((e=>e.value=""))};t.appendChild(n);const y=new FormData(t),p={};y.forEach(((e,t)=>{p[t]=e})),e(p).then((e=>{if(200!==e.status)throw new Error("Заявка не отправлена");setTimeout((()=>{n.remove(),u()}),1500)})).catch((e=>{console.error(e),setTimeout((()=>{n.remove(),d.style.display="block",a.textContent=":(",i.textContent=" Что-то пошло не так...",u()}),1500)}))}))}));const e=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});document.addEventListener("input",(()=>{[...document.querySelectorAll('input[name="name"]')].forEach((e=>{e.value=e.value.replace(/[^а-яё ]/gi,"")}))}))})(),(()=>{try{const e=document.querySelector(".fixed-gift"),t=document.querySelector("#gift");e.addEventListener("click",(()=>{t.style.display="block",e.style.display="none"})),t.addEventListener("click",(e=>{l(e.target,t)}))}catch(e){}})(),(()=>{try{const e=document.querySelector(".main-slider").querySelectorAll(".slide");let t=0;const l=(e,t)=>{e[t].style.display="none"},o=(e,t)=>{e[t].style.display="flex"},n=()=>{l(e,t),t++,t>=e.length&&(t=0),o(e,t)};((e=3e3)=>{setInterval(n,e)})(2e3)}catch(e){}})()})();